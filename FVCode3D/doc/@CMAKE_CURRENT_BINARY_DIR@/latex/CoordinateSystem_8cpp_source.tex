\hypertarget{CoordinateSystem_8cpp_source}{}\section{Coordinate\+System.\+cpp}
\label{CoordinateSystem_8cpp_source}\index{/home/corinne/eni\+Reservoir\+G\+I\+T\+H\+U\+B/eni\+Reservoir/\+F\+V\+Code3\+D/src/\+F\+V\+Code3\+D/geometry/\+Coordinate\+System.\+cpp@{/home/corinne/eni\+Reservoir\+G\+I\+T\+H\+U\+B/eni\+Reservoir/\+F\+V\+Code3\+D/src/\+F\+V\+Code3\+D/geometry/\+Coordinate\+System.\+cpp}}

\begin{DoxyCode}
00001 
00006 \textcolor{preprocessor}{#include <\hyperlink{CoordinateSystem_8hpp}{FVCode3D/geometry/CoordinateSystem.hpp}>}
00007 
00008 \textcolor{keyword}{namespace }\hyperlink{namespaceFVCode3D}{FVCode3D}
00009 \{
00010 
\hypertarget{CoordinateSystem_8cpp_source.tex_l00011}{}\hyperlink{classFVCode3D_1_1CoordinateSystem3D_a1e4e37cb99a7f93940ed0fcc3f1c3b85}{00011} \textcolor{keywordtype}{void} \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a1e4e37cb99a7f93940ed0fcc3f1c3b85}{CoordinateSystem3D::computeCartesianCoordinateSystem}
      (\textcolor{keyword}{const} \hyperlink{classFVCode3D_1_1Point3D}{Point3D} & z)
00012 \{
00013         \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w} = z;
00014         \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w}.\hyperlink{classFVCode3D_1_1Point3D_a0d1cd3d114b0985ae2b11cd1c52de673}{normalize}();
00015 
00016         \textcolor{comment}{//find the maximum of M\_w components}
00017         \hyperlink{namespaceFVCode3D_a4bf7e328c75d0fd504050d040ebe9eda}{UInt} max = 0;
00018         \hyperlink{classFVCode3D_1_1Point3D}{Point3D} temp1;
00019         \hyperlink{classFVCode3D_1_1Point3D}{Point3D} temp2;
00020         \hyperlink{classFVCode3D_1_1Point3D}{Point3D} x2;
00021         \hyperlink{classFVCode3D_1_1Point3D}{Point3D} x3;
00022 
00023         \textcolor{keywordflow}{if} ( std::abs(\hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w}.\hyperlink{classFVCode3D_1_1Point3D_a950abcabbf3bb32fc2daf64c28d77416}{y}()) > std::abs(\hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w}.\hyperlink{classFVCode3D_1_1Point3D_ae015d6aa31f8b304f69696bdcbd4da19}{x}()) )
00024                 \textcolor{keywordflow}{if} ( std::abs(\hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w}.\hyperlink{classFVCode3D_1_1Point3D_a865109e2006cc1de3681ab601081f5aa}{z}()) > std::abs(\hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w}.\hyperlink{classFVCode3D_1_1Point3D_a950abcabbf3bb32fc2daf64c28d77416}{y}()) )
00025                         max = 2;
00026                 \textcolor{keywordflow}{else}
00027                         max = 1;
00028         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( std::abs(\hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w}.\hyperlink{classFVCode3D_1_1Point3D_a865109e2006cc1de3681ab601081f5aa}{z}()) > std::abs(\hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w}.\hyperlink{classFVCode3D_1_1Point3D_ae015d6aa31f8b304f69696bdcbd4da19}{x}()) )
00029                 max = 2;
00030 
00031         \textcolor{keywordflow}{if} ( max==0 )
00032         \{
00033                 x2.\hyperlink{classFVCode3D_1_1Point3D_af250a1c49cf1aeeb52f59a687257451d}{setValues}(0., 1., 0.);
00034                 x3.\hyperlink{classFVCode3D_1_1Point3D_af250a1c49cf1aeeb52f59a687257451d}{setValues}(0., 0., 1.);
00035         \}
00036         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( max==1 )
00037         \{
00038                 x2.\hyperlink{classFVCode3D_1_1Point3D_af250a1c49cf1aeeb52f59a687257451d}{setValues}(1., 0., 0.);
00039                 x3.\hyperlink{classFVCode3D_1_1Point3D_af250a1c49cf1aeeb52f59a687257451d}{setValues}(0., 0., 1.);
00040         \}
00041         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( max==2 )
00042         \{
00043                 x2.\hyperlink{classFVCode3D_1_1Point3D_af250a1c49cf1aeeb52f59a687257451d}{setValues}(1., 0., 0.);
00044                 x3.\hyperlink{classFVCode3D_1_1Point3D_af250a1c49cf1aeeb52f59a687257451d}{setValues}(0., 1., 0.);
00045         \}
00046 
00047         \textcolor{comment}{// u assignement}
00048         temp1 = \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w};
00049         temp1.\hyperlink{classFVCode3D_1_1Point3D_a2044e0fdef7e870557c89ad0edb0b0d4}{linearTransform}( \hyperlink{namespaceFVCode3D_ad07be7f9ed843ca65d02d0303dae6cb4}{dotProduct}(x2,\hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w}), 0. , 0. , 0. );
00050         \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a29111cacf2f4162819d01c75d79fd0b5}{M\_u} = x2 - temp1;
00051         \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a29111cacf2f4162819d01c75d79fd0b5}{M\_u}.\hyperlink{classFVCode3D_1_1Point3D_a0d1cd3d114b0985ae2b11cd1c52de673}{normalize}();
00052 
00053         \textcolor{comment}{// v assignement}
00054         temp1 = \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w};
00055         temp2 = \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a29111cacf2f4162819d01c75d79fd0b5}{M\_u};
00056 
00057         temp1.\hyperlink{classFVCode3D_1_1Point3D_a2044e0fdef7e870557c89ad0edb0b0d4}{linearTransform}( \hyperlink{namespaceFVCode3D_ad07be7f9ed843ca65d02d0303dae6cb4}{dotProduct}(x3,\hyperlink{classFVCode3D_1_1CoordinateSystem3D_a2633d282f332c2129d339bec4cd53c3f}{M\_w}) , 0. , 0. , 0. );
00058         temp2.\hyperlink{classFVCode3D_1_1Point3D_a2044e0fdef7e870557c89ad0edb0b0d4}{linearTransform}( \hyperlink{namespaceFVCode3D_ad07be7f9ed843ca65d02d0303dae6cb4}{dotProduct}(x3,\hyperlink{classFVCode3D_1_1CoordinateSystem3D_a29111cacf2f4162819d01c75d79fd0b5}{M\_u}) , 0. , 0. , 0. );
00059 
00060         \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a9633fb461a4e62882f855d2aa372fe1a}{M\_v} = x3 - temp1;
00061         \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a9633fb461a4e62882f855d2aa372fe1a}{M\_v} -= temp2;
00062 
00063         \hyperlink{classFVCode3D_1_1CoordinateSystem3D_a9633fb461a4e62882f855d2aa372fe1a}{M\_v}.\hyperlink{classFVCode3D_1_1Point3D_a0d1cd3d114b0985ae2b11cd1c52de673}{normalize}();
00064 \}
00065 
00066 \}\textcolor{comment}{// namespace FVCode3D}
\end{DoxyCode}
