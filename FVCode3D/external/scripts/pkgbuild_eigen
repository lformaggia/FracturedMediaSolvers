#! /bin/bash

ver="3.2.1"

download_eigen() {
    if [ -f ${PACKAGE_SRC_DIR}/eigen-${ver}.tar.gz ]; then
        cp ${PACKAGE_SRC_DIR}/eigen-${ver}.tar.gz ${src_dir}
    else
        wget -nv http://bitbucket.org/eigen/eigen/get/${ver}.tar.gz
    fi
}

unpack_eigen() {
    tar xzf ${ver}.tar.gz
    original_dir_name=$(ls | grep eigen)
    mv ${original_dir_name} eigen-${ver}
}

build_eigen() {
    mkdir -p ${build_dir}
    cd ${build_dir}

    CMAKE_BIN=cmake
    if [ -n "${cmake_install_dir}" ]; then
        CMAKE_BIN="${cmake_install_dir}/bin/cmake"
    fi

    ${CMAKE_BIN} \
        -DCMAKE_INSTALL_PREFIX:PATH=${install_dir} \
        ${src_dir}/eigen-${ver}

    make -j${NUM_PROC}
}

install_eigen() {
    make -j${NUM_PROC} install
}


